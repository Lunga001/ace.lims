<!--
    Default template used to render a coc
-->
<tal:sticker define="
    lab_data          view/lab_data;
    client_data       view/client_data;
    item              view/current_item;
    ar                python:item[0];
    ar_id             python:ar.getId() if ar else '';
    sample            python:item[1];
    part              python:item[2];
    partnr            python:part.getId().split('-')[1];
    sampler           python:sample.getSampler();
    sample_id         python:sample.getId();
    sample_point      python:sample.getSamplePoint() and sample.getSamplePoint().Title() or '';
    sample_type       python:sample.getSampleType().Title();
    sd                python:sample.getSamplingDate();
    sampling_date     python:sd.Date() if sd else '';
    client_sample_id  python:sample.getClientSampleID();
    preservation      python:part.getPreservation() and part.getPreservation().Title() or '';
    container         python:part.getContainer() and part.getContainer().Title() or '';
    date_sampled      python:sample.getDateSampled() and sample.getDateSampled().Date();
    analyses          python:part.getBackReferences('AnalysisSamplePartition');
    field_analyses    python:[analysis for analysis in analyses if analysis.getService().getPointOfCapture()=='field'];
    show_partitions   python:context.bika_setup.getShowPartitions();
    smart_id          python:part.getId() if show_partitions else sample.getId();
    hazardous         python:sample.getSampleType().getHazardous();">

<div class="Letter">
    <div id="section-header" class="page-header">
        <div id='lab-logo'>
            <div class="table table_header" >
                <div class="row">
                    <div class="td_numbering">
                        <div class="page-number">Page 1 of 1</div>
                    </div> 
                    <div class="td_logo">
                        <img tal:attributes="src lab_data/logo"/>
                    </div>
                    <h1 class="title">Chain of Custody</h1>
                </div>
            </div>
        </div>
    </div>
    <div class="coc_body">
        <table>
            <tr class="grey_background">
                <th class='label' i18n:translate="" colspan="3">Client Information:</th>
                <th class='label' i18n:translate="" colspan="2">Lab Use Only:</th>
            </tr>
            <tr class="">
                <td class='label td_top' i18n:translate="">
                       <p>Client:</p>
                       <p style="padding-left:3px" tal:content="client_data/name">hello</p>
               </td>
                <td class='label td_top' i18n:translate="">
                       <p>MME Registration Number:</p>
                       <p style="padding-left:3px" tal:content="client_data/mme_id">hello</p>
               </td>
               <td class='label td_top' i18n:translate="">
                       <p>Client Contact:</p>
                       <p style="padding-left:3px"
                            tal:condition="client_data/contact_name"
                            tal:content="client_data/contact_name">hello</p>
               </td>
               <td class='label td_top' colspan="2" i18n:translate="">
                       <p>Lab Contact:</p>
                       <p style="padding-left:3px"
                            tal:condition="lab_data/lab_manager"
                            tal:content="lab_data/lab_manager">hello</p>
               </td>
            </tr>
            <tr class="">
                <td class='label td_top' i18n:translate="">
                       <p>Profile:</p>
                       <p style="padding-left:3px">PLEASE ADVISE</p>
               </td>
               <td class='label td_top' i18n:translate="">
                       <p>Email Address:</p>
                       <p style="padding-left:3px"
                            tal:condition="client_data/contact_email"
                            tal:content="client_data/contact_email">hello</p>
               </td>
               <td class='label td_top' i18n:translate="">
                       <p>Phone:</p>
                       <p style="padding-left:3px"
                            tal:condition="client_data/phone"
                            tal:content="client_data/phone">hello</p>
               </td>
               <td class='label td_top' i18n:translate="">
                       <p>Email Address:</p>
                       <p style="padding-left:3px"
                            tal:condition="lab_data/email"
                            tal:content="lab_data/email">hello</p>
               </td>
               <td class='label td_top' i18n:translate="">
                       <p>Phone:</p>
                       <p style="padding-left:3px"
                            tal:condition="lab_data/phone"
                            tal:content="lab_data/phone">hello</p>
               </td>
            </tr>
            <tr class="">
                <td class='label td_top' i18n:translate="">
                       <p>Street Address:</p>
                       <p style="padding-left:3px"
                            tal:condition="client_data/street_part"
                            tal:content="client_data/street_part">hello</p>
               </td>
                <td class='label td_top' i18n:translate="">
                       <p>City, State, Zip:</p>
                       <p style="padding-left:3px"
                            tal:condition="client_data/city_part"
                            tal:content="client_data/city_part">hello</p>
               </td>
                <td class='label td_top' i18n:translate=""></td>
               <td class='label td_top' i18n:translate="">
                       <p>Lab ID:</p>
                       <p style="padding-left:3px"
                            tal:condition="lab_data/lab_license_id"
                            tal:content="lab_data/lab_license_id">hello</p>
               </td>
               <td class='label td_top' colspan="2" i18n:translate="">
                       <p>Storage Location:</p>
               </td>
            </tr>
        </table>
        <table class="coc-items">
        <tr>
            <td rowspan="2">Item</td>
            <td rowspan="2">Product & Strain</td>
            <td colspan="3">Collection</td>
            <td rowspan="2">Analysis Required</td>
            <td colspan="2">Weight Sampled</td>
        </tr>
        <tr>
            <td>Client Batch ID</td>
            <td>Sampler</td>
            <td>Date Sampled</td>
            <td>At Client</td>
            <td>At Lab</td>
        </tr>
        <tr tal:repeat="cnt python:range(5)">
            <td tal:content="python:cnt+1"></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
        </tr>
        </table>
        <table class="coc-transfers">
            <tr>
                <th colspan="7" style="text-align:left">Field Comment:</th>
            </tr>
            <tr>
                <td>Transfers:</td>
                <td>Relinquished By</td>
                <td>Date / Time</td>
                <td>Received By</td>
                <td>Date / Time</td>
                <td>Attestation Statement</td>
            </tr>
            <tr tal:repeat="cnt python:range(3)">
                <td tal:content="python:cnt+1"></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
            </tr>
        </table>
    </div>
    <div class="footer">
        Hello Footer
    </div>
</div>
</tal:sticker>
